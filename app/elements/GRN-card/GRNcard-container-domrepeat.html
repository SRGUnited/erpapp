<dom-module id="GRNcard-container-domrepeat">
  <template>
  <style is="custom-style">
      paper-card{
        width: 70%;
        height: 60%
      }
      paper-card.rate { @apply(--layout-horizontal); }
      .rate-image {
       width: 200px;
       height: 200px;
       background-size: cover;
      }
      .rate-content {
       margin-left: 10%;
      }
      .rate-header { @apply(--paper-font-headline); }
      .rate-name { color: var(--paper-grey-600); margin: 10px 0; }
      paper-icon-button.rate-icon {
       --iron-icon-fill-color: white;
       --iron-icon-stroke-color: var(--paper-grey-600);
      }
  </style>
  <paper-card  class="rate" style="margin-top:6px;margin-left:15px;width:80%">
    <div class="rate-content">{{idvalue}}&nbsp{{index}}</div>
    <div class="card-content">
      <paper-input label="Container Number" value="{{cntnoVal}}"></paper-input>
      <paper-input hidden={{btno}} label="Batch No" value="{{btnoVal}}"></paper-input>
      <paper-input hidden={{htno}} label="Heat No" value="{{htnoVal}}"></paper-input>
      <paper-input label="Quantity" value="{{quantityVal}}"></paper-input>
      <paper-checkbox align="right" id="checked" on-change="change"></paper-checkbox>
    </div>
    <div class="rate-image" hidden>{{idval}}{{indexval}}</div>
  <span><b></b></span><span></span>
</paper-card>
<paper-button raised on-click="savecontaineridFn">save</paper-button>
    <iron-ajax
      method="post"
      id="savecontaineridAjax"
      url="http://localhost:4000/savecontaineridinfo"
      params="{{containeridparams}}"
      handle-as="json"
      on-response="handleResponse"></iron-ajax>

  </template>
  <script>
    Polymer({
      is:"GRNcard-container-domrepeat",
      ready:function(){
        this.idvalue=this.idval;
        this.index=this.indexval+1;
      },
      savecontaineridFn:function(){
        if(this.btno==1){
        this.containeridparams={Containerno:this.cntnoVal,
                                quantityVal:this.quantityVal
                              };
        // alert(JSON.stringify(this.containeridparams));
                        }
                        if(this.btno==0){
                        this.containeridparams={Containerno:this.cntnoVal,
                                                btnoVal:this.btnoVal,
                                                htnoVal:this.htnoVal,
                                                quantityVal:this.quantityVal
                                              };
                        // alert(JSON.stringify(this.containeridparams));
                      }
                                        var a = $('input[type="checkbox"]:checked').length;
                                        alert(a);
        // this.$.savecontaineridAjax.generateRequest();
      },
      change:function(e){

      }
    });
  </script>
</dom-module>

<link rel="import" href="GRNcard-container-domrepeat.html">
<dom-module id="GRNcard-click-function">
  <template>
  <style is="custom-style">
      paper-card{
        width: 70%;
        height: 60%
      }
      paper-card.rate { @apply(--layout-horizontal); }
      .rate-image {
       width: 200px;
       height: 200px;
       background-size: cover;
      }
      .rate-content {
       @apply(--layout-flex);
       float: left;
      }
      .rate-header { @apply(--paper-font-headline);
                    margin-left: 20%}
      .rate-name { color: var(--paper-grey-600); margin: 10px 0; }
      paper-icon-button.rate-icon {
       --iron-icon-fill-color: white;
       --iron-icon-stroke-color: var(--paper-grey-600);
      }
  </style>
  <div class="container">
    <div class="row">
      <div class="col-sm-6">
        <template is="dom-repeat" items="{{displaycontent}}">
        <div class="rate-header">{{item.inward_register_number}}</div>
        <paper-card class="rate" style="margin-top:6px;margin-left:15px;" on-click="cardgetFn">
          <div class="rate-content">
          <div class="card-content">
            <div class="rate-name">
              <table>
                <div hidden>{{item.po_number}}</div>
                <div hidden>{{item.po_date}}</div>
                <div>{{item.item_quantity}}{{item.unit_of_measure_id}}</div>
                <div>{{item.container_quantity}}{{item.container_id}}</div>
                <tr><td>{{item.itemname}}</td></tr>
                <tr><td>{{item.itemspecification1}}</td></tr>
                <tr><td>{{item.suppliername}}</td></tr>
                <tr><td>{{item.invoice_no}}  {{item.invoice_date}}</td></tr>
              </table>
            </div>
          </div>
        </div>
        <div class="rate-image" style="background-image: url({{item.images}})"></div>
      </paper-card>
      </template>
      <div></div>
    </div>
    <div class="col-sm-6">
      <template is="dom-repeat-n" count="[[countvalue]]">
            <GRNcard-container-domrepeat
                                        idval="{{idval}}"
                                        indexval="{{index}}"
                                        btno="{{btno}}"
                                        htno="{{htno}}"></GRNcard-container-domrepeat>
        <div></div>
      </template>
    </div>
  </div>
</div>
</template>
<script>
  Polymer({
    is:"GRNcard-click-function",
    ready:function(){
    },
    getfunc:function(data){
      this.displaycontent=data;
      for(var i=0;i<data.length;i++){
      if(data[i].container_quantity!=""){
        if(data[i].container_id=="coil"){
          this.countvalue=data[i].container_quantity;
          this.idval=data[i].container_id;
          this.btno=0;
          this.htno=0;

        }
        if(data[i].container_id=="bag"){
          this.countvalue=data[i].container_quantity;
          this.btno=1;
          this.htno=1;
        }
        }
      }
    }
  });
</script>
</dom-module>

<dom-module id="slider-bar">
  <style>
  #insertionPoint{
    cursor: pointer;
  }
  </style>
  <template>
    <section class="content">
      <div class="row">
        <div class="col-sm-6">
          <div class="box">
            <div class="box-header with-border">
              <h3 class="box-title">Testing</h3>
            </div>
            <div class="box-body">
              <table> <!--  <table class="table"> for no border -->
                <tr>
                  <th>asdf</th>
                  <th class="text-center">Actuals</th>
                </tr>
                <slider-paper-input check="1" close="1" hidden></slider-paper-input>
                <template is="dom-repeat" items="{{response}}">
                  <!-- <tr>
                    <td>{{y.quality_parameter_name}}</td>
                    <td style="width:100%;padding-left:2%;"> -->
                        <slider-paper-input qualityParameterName="{{item.quality_parameter_name}}"
                                            minimumvalue="{{item.minimum_value}}"
                                            maximumvalue="{{item.maximum_value}}"
                                            check="1"
                                            close="1"></slider-paper-input>
                    <!-- {{y.minimum_value}}&#8195&#8195&#8195&#8195&#8195
                    &#8195&#8195&#8195&#8195&#8195&#8195{{y.maximum_value}}
                    </td>
                  </tr> -->
                </template>
              </table>
            </div>
            <div class"box-footer clearfix">
              <div>&#8195&#8195&#8195&#8195&#8195&#8195
                <a on-click="pass" id="insertionPoint">
                  <span id="up" class="glyphicon glyphicon-thumbs-up" style="font-size: 30px;color:grey"></span>
                </a>
                &#8195&#8195
                <a on-click="fail" id="insertionPoint">
                  <span id="down" class="glyphicon glyphicon-thumbs-down" style="font-size: 30px;color:grey;"></span>
                </a>
              </div>
              <div>
                <center>
                  <a class="btn btn-app" on-click="SaveActuals" style="">
                    <i class="fa fa-save"></i>Save
                  </a>
                </center>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- <iron-ajax
      auto
      method="post"
      url="http://localhost:4000/testingdata"
      handle-as="json"
      on-response="handletestingdata"></iron-ajax> -->

    <iron-ajax
      id="SaveActualsIA"
      method="post"
      url="http://localhost:4000/"
      handle-as="json"
      on-response="HandleSaveActualsIA">
    </iron-ajax>
  </template>
</dom-module>
<script type="text/javascript">
  var dbdata;
  var PorF;
  Polymer({
    is: "slider-bar",
    HandleSaveActualsIA:function(){

    },

    SaveActuals:function(){
      alert(this.actualval);
      // $(".HeaderName").after("your html here");
      // this.hidevar=0;
    },
    pass: function() {
      this.PorF="pass";
      document.getElementById("down").style.color = "grey";
      document.getElementById("up").style.color = "#A2CD6F";
    },
    fail: function() {
      this.PorF="fail";
      document.getElementById("up").style.color = "grey";
      document.getElementById("down").style.color = "red";
    },
    // handletestingdata:function(e){
    //   this.dbdata=e.detail.response.testingdata;
    //   this.x=e.detail.response.testingdata;
    // },
    temp:function(y){
      // var min=this.dbdata[0].minimum_value;
      // var max=this.dbdata[0].maximum_value;
      // if(y<min||y>max){
      //   document.querySelector('slider-paper-input').hidevar=1;
      //   document.querySelector('slider-paper-input').hidevar1=0;
      // }
      // else {
      //   document.querySelector('slider-paper-input').hidevar1=1;
      //   document.querySelector('slider-paper-input').hidevar=0;
      // }
      for(var i=0;i<this.dbdata.length;i++){
        // alert(this.dbdata.length);
        // alert(y);
        if(y<this.dbdata[i].minimum_value||y>this.dbdata[i].maximum_value){
          document.querySelector('slider-paper-input').check=1;
          document.querySelector('slider-paper-input').close=0;
          // i=this.dbdata.length;
        }
        else {
          document.querySelector('slider-paper-input').close=1;
          document.querySelector('slider-paper-input').check=0;
          // i=this.dbdata.length;
        }

      }
    },
    dbResponse:function(a){
      this.response=a;
      alert(JSON.stringify(a));
    }
  });
</script>

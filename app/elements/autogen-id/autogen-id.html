<dom-module id="autogen-id">
  <style>
    :host {
      display: block;
    }
  </style>
  <template>
    <p hidden>{{getstring}}</p>
    <iron-ajax
      id="autogen"
      method="post"
      url="http://localhost:4000/autogenerateid"
      handle-as="json"
      on-response="handleautogenerateid">
    </iron-ajax>
  </template>
</dom-module>
<script type="text/javascript">
var autoid;
  Polymer({
    is: "autogen-id",
    ready:function(){
      // alert("autogen-id");
    },

    handleautogenerateid:function(e){
      autoid=e.detail.response.returnid;
      var getid=e.detail.response.returnid;
      alert("generateId"+getid);
      if(this.getstring=="sup"){
        var supstringid="sup"+getid;
        document.querySelector("call-add-supplier").submitFn(supstringid);
      }
      if(this.getstring=="cus"){
        var cusstringid="cus"+getid;
        document.querySelector("call-add-customer").submitFn(cusstringid);
      }
      if(this.getstring=="ite"){
        var itestringid="ite"+getid;
        document.querySelector("item-details").save(itestringid);
      }
      if(this.getstring=="irn"){
        var irnstringid="irn"+getid;
        document.querySelector("vehicle-in-process-itemdetails").saveitemauto(irnstringid);
        }
        if(this.getstring=="sal"){
        var salstringid="sal"+getid;
       document.querySelector("sales-projection").saveitemsfn(salstringid);
      }
    },
    confirm:function(){
      autoid="sal"+autoid;
      document.querySelector("sales-projection").confirm1(autoid);
    },

    send:function(data){
      // alert("getting");
      this.getstring=data;
      this.$.autogen.generateRequest();
    }
  });
</script>
